<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Reviewing packages; how does it work?</title>
    <meta charset="utf-8" />
    <meta name="author" content="Lluís Revilla        Lluis_Revilla" />
    <script src="index_files/header-attrs-2.8/header-attrs.js"></script>
    <link href="index_files/remark-css-0.0.1/useR.css" rel="stylesheet" />
    <link href="index_files/remark-css-0.0.1/useR-fonts.css" rel="stylesheet" />
    <script src="index_files/tone-13.8.34/Tone.js"></script>
    <script src="index_files/slide-tone-0.2.6/slide-tone.js"></script>
    <meta name="github-repo" content="llrs/user2021"/>
    <meta name="twitter:title" content="Reviewing packages; how does it work?"/>
    <meta name="twitter:description" content="Analysis and tips about how package reviews work. Presented at useR!2021."/>
    <meta name="twitter:url" content="https://user2021.llrs.dev"/>
    <meta name="twitter:image:src" content="https://llrs.dev/2020/07/bioconductor-submissions-reviews/index_files/figure-html/first_plot-1.png"/>
    <meta name="twitter:image:alt" content="Image from a blog https://llrs.dev/2020/07/bioconductor-submissions-reviews/ for Reviewing packages; how does it work? Horizontal axis the date, vertical axis the submissions on Bioconductor each point is an event on a submission. It shows a continuous increase on packages submitted. Presented at useR!2021 by Lluís Revilla"/>
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:creator" content="@Lluis_Revilla"/>
    <meta name="twitter:site" content="@Lluis_Revilla"/>
    <meta property="og:title" content="Reviewing packages; how does it work?"/>
    <meta property="og:description" content="Analysis and tips about how package reviews work. Presented at useR!2021."/>
    <meta property="og:url" content="https://user2021.llrs.dev"/>
    <meta property="og:image" content="https://llrs.dev/2020/07/bioconductor-submissions-reviews/index_files/figure-html/first_plot-1.png"/>
    <meta property="og:image:alt" content="Image from a blog https://llrs.dev/2020/07/bioconductor-submissions-reviews/ for Reviewing packages; how does it work? Horizontal axis the date, vertical axis the submissions on Bioconductor each point is an event on a submission. It shows a continuous increase on packages submitted. Presented at useR!2021 by Lluís Revilla"/>
    <meta property="og:type" content="website"/>
    <meta property="og:locale" content="en_US"/>
    <meta property="article:author" content="Lluís Revilla"/>
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Reviewing packages; how does it work?
### <a href="https://llrs.dev">Lluís Revilla</a> <br> <a href="https://user2021.llrs.dev"><svg viewBox="0 0 448 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"> <path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V86c0-3.3 2.7-6 6-6h340c3.3 0 6 2.7 6 6v340c0 3.3-2.7 6-6 6z"></path></svg></a> <a href="https://github.com/llrs/"><svg viewBox="0 0 496 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"> <path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a> <a href="https://twitter.com/Lluis_Revilla"><svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"> <path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg>Lluis_Revilla</a>

---


# Brief introduction










Goals of a *submission*

- Sharing something of quality that can be useful to others.
- Make it easier for others to build upon your package.
- Other: work, grant, prestige ...

???

Submissions are though specially if coming from places with poor training
Lack of confidence/experience with reviews.

--

.pull-left[
**Archives reviewing packages**

- CRAN

- Bioconductor

- rOpenSci

 ]
 
--

.pull-right[
**Objectives of the reviews?**

- Non-trivial publication quality packages.
- Promote high-quality, well documented and interoperable.
- Drive the adoption of best practices with useful, transparent and constructive feedback.
]


???

Differences in objectives but all looking for quality
CRAN: Point errors, comments
Bioconductor: In detail comment of style, classes, dependencies, structure…
rOpenSci: guideline for reviewers (about style, tests, functions, description, documentation, …)


CRAN ~16000 packages, Bioconductor ~2000,  rOpenSci ~300
To work with this slides use xaringan::infinite_moon_reader()

---

# Project differences


|          |CRAN                            |Bioconductor               |rOpenSci               |
|:---------|:-------------------------------|:--------------------------|:----------------------|
|Submit    |tar.gz file                     |fill an issue              |fill an issue          |
|Review    |email &amp; ftp                     |Github                     |Github                 |
|Setup     |None                            |ssh key, subscribe mailing |CI tests               |
|Checks    |check --as-cran                 |check; Biocheck            |check --as-cran        |
|OS        |Windows, Unix, iOS              |Windows, Unix, iOS         |Windows, Unix, iOS     |
|Versions  |oldrel, release, patched, devel |release, devel             |oldrel, release, devel |
|Cycle     |Always open                     |2 annual releases          |Always open            |
|Editors   |0                               |0                          |~10                    |
|Reviewers |~5                              |~10                        |Volunteers             |

[CRAN](https://cran.r-project.org/submit.html)  [Bioconductor](https://github.com/Bioconductor/Contributions/) 
[rOpenSci](https://github.com/ropensci/software-review/)

???

The different projects/archives have different setups.
*Read the table*
Will use data from the three projects but mostly refer to CRAN.
All of them first you need to pass the automatic checks in place before a human looks into it.

---

# Submissions


&lt;img src="index_files/figure-html/submissions-1.png" width="504" style="display: block; margin: auto;" /&gt;

CRAN data thanks to the [incoming dashboard](https://lockedata.github.io/cransays/articles/dashboard.html).

???

One order of magnitude of difference between each other CRAN &gt; Bioconductor &gt; rOpenSci
Many variability on month
Also very few data from CRAN 

---
# Organization

&lt;img src="index_files/figure-html/cran-holidays-1.png" width="504" style="display: block; margin: auto;" /&gt;

Packages are moved by reviewers between folders.

???

Many folders but these two are the most important.
There isn't an explanation from CRAN about how do they work.
Pretest is resubmission (newer versions of packages) and also for newbies

---


# Workload after holidays

&lt;img src="index_files/figure-html/cran-holidays-zoom-1.png" width="504" style="display: block; margin: auto;" /&gt;

Big volume of work! Patience!

???
 
2 months to get back to normal for new packages.
First served are the resubmissions of packages.
 
---

# Submissions patterns

&lt;img src="index_files/figure-html/cran-day-month-1.png" width="504" style="display: block; margin: auto;" /&gt;

Check [dashboard](https://lockedata.github.io/cransays/articles/dashboard.html) before submitting?

???

Submit when you are ready, better be on the queue than outside.

---

# Review time

&lt;img src="index_files/figure-html/cran-review-1.png" width="504" style="display: block; margin: auto;" /&gt;

Reviews are short, brief and to the point.

???

Median time on submissions ~ hours, mean time ~NA hours.
Between 2 and 81 hours (quartiles)

---

# Review speed 

&lt;img src="index_files/figure-html/cran-submission-time-1.png" width="504" style="display: block; margin: auto;" /&gt;

Expect 3-7 days till your new package is on CRAN.

???

Different time, can be shorter or longer.
Most longer need resubmission.
Resubmit with different version (makes it easier to track how many are).


```
## # A tibble: 2 x 2
##   new     time
##   &lt;chr&gt;  &lt;dbl&gt;
## 1 New       80
## 2 Update     5
```






---

# Users role






&lt;img src="index_files/figure-html/users-plots-1.png" width="504" style="display: block; margin: auto;" /&gt;

Some users help with many reviews.

???

Bioconductor reviewers do a lot
rOpenSci editors too
Both organizations have a group of users involved on the package review system.
Even if Bioconductor doesn't explicitly ask for reviewers from the community.
Bioconductor are considering now how to improve the review system.
Omitted bots bioc-issue-bot and ropensci-review-bot (new March 2021).

---

# Comments

&lt;img src="index_files/figure-html/comments-1.png" width="504" style="display: block; margin: auto;" /&gt;

A dialog between authors and reviewers &amp; editors. 

???

Non reviewers users on bioconductor still chime in to help.

---

# Bot role

&lt;img src="index_files/figure-html/bioc-issue-bot-1.png" width="504" style="display: block; margin: auto;" /&gt;

Bot helps on the process and changes with the process

???

Bot provides feedback of many issues and actions performed. 
It can be changed/adapted to change in requirements or errors.
rOpenSci is going to have a bot too [ropensci-review-bot](https://github.com/ropensci-review-bot/). 

---

# Labels

&lt;img src="index_files/figure-html/labels-1.png" width="504" style="display: block; margin: auto;" /&gt;

Labels are used to indicate progress on the submission.

???

On bioconductor most problems with the submissions are not the package itself but not replying or chosing another venue.
rOpenSci provides more detailed questioning for scope of a package.

---

# Success submissions

CRAN: Not easy way to know

Bioconductor: 1 month

rOpenSci: around 2 months


???

CRAN:
Bioconductor: most of them in 1 month
rOpenSci: in 2 months (seeking 2 reviwers and posting them).



---

# Submit ?

- Prepare
  
  Follow policies and guidelines: [CRAN](https://cran.r-project.org/web/packages/policies.html), [Bioconductor](https://www.bioconductor.org/developers/package-submission/), [rOpenSci](https://devguide.ropensci.org/).

- **Fix**

- Resubmit

]

.center[

# Thanks

R core and CRAN team
Bioconductor core, 
rOpenSci editors and reviewers

]

.center[

.bottom[

***Questions ?***

]

]
???

rOpenSci review: [Video](https://www.youtube.com/watch?v=iJnn_9xKkqk)
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
